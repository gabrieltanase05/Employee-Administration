(this.webpackJsonpemployee=this.webpackJsonpemployee||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(17),l=n.n(i),o=n(4),s=n(18),d=n(7),u=n.n(d);var m=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(0),l=Object(o.a)(i,2),d=l[0],m=l[1],j=Object(c.useState)(!1),h=Object(o.a)(j,2),p=h[0],b=h[1],y=Object(s.a)(),O=y.register,x=y.handleSubmit;Object(c.useEffect)((function(){u.a.get("https://employee-administration-bend.herokuapp.com/api/GET").then((function(e){r((function(t){return e.data.data})),console.log(e.data.data),console.log(d)})).catch((function(e){console.log("Load employees list ".concat(e))}))}),[d]);var f=function(e){for(var t=document.querySelector('[e_id="'.concat(e.currentTarget.value,'"]')),n=t.querySelectorAll("[type]"),a=0;a<n.length;a++)p?(u.a.post("https://employee-administration-bend.herokuapp.com/api/UPDATE/",{id:e.currentTarget.value,name:t.querySelector('[type="name"]').innerHTML,salary:t.querySelector('[type="salary"]').innerHTML,age:t.querySelector('[type="age"]').innerHTML}).then((function(e){m(d+1)})).catch((function(e){return e})),n[a].contentEditable=!1,e.currentTarget.innerText="Edit",e.currentTarget.classList.remove("AdministrationPanel__done"),b(!1)):(n[a].contentEditable=!0,n[0].focus(),e.currentTarget.innerText="Done",e.currentTarget.classList.add("AdministrationPanel__done"),b(!0))},g=function(e){u.a.delete("https://employee-administration-bend.herokuapp.com/api/DELETE/",{data:{id:e.currentTarget.value}}).then((function(e){m(d+1)})).catch((function(e){return e}))};return Object(a.jsx)("div",{className:"AdministrationPanel",children:Object(a.jsxs)("div",{className:"AdministrationPanel__container",children:[Object(a.jsx)("h2",{className:"AdministrationPanel__title",children:" Employees administration panel"}),Object(a.jsxs)("form",{className:"AdministrationPanel__form",onSubmit:x((function(e,t){t.preventDefault(),e&&u.a.post("https://employee-administration-bend.herokuapp.com/api/POST",e).then((function(t){alert("".concat(e.name," was added to the employees list.")),m(d+1)})).catch((function(e){console.log("Unable to add new employee ".concat(e))})),t.target.reset()})),children:[Object(a.jsx)("input",{ref:O({required:!0,min:5,max:20,pattern:/[A-Za-z]/g}),type:"text",name:"name",placeholder:"Employee name",onChange:null}),Object(a.jsx)("input",{ref:O({required:!0}),type:"number",name:"salary",placeholder:"Employee salary ",onChange:null}),Object(a.jsx)("input",{ref:O({required:!0}),type:"number",name:"age",placeholder:"Employee age ",onChange:null}),Object(a.jsx)("label",{children:Object(a.jsx)("input",{type:"submit",name:"submit",value:"+ ADD"})})]}),Object(a.jsxs)("table",{className:"AdministrationPanel__table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Salary"}),Object(a.jsx)("th",{children:"Age"}),Object(a.jsx)("th",{children:"Actions"})]})}),Object(a.jsx)("tbody",{children:n.map((function(e,t){return Object(a.jsxs)("tr",{e_id:e._id,children:[Object(a.jsx)("td",{children:t+1}),Object(a.jsx)("td",{type:"name",children:e.name}),Object(a.jsx)("td",{type:"salary",children:e.salary}),Object(a.jsx)("td",{type:"age",children:e.age}),Object(a.jsxs)("td",{children:[Object(a.jsx)("button",{className:"AdministrationPanel__edit",onClick:f,value:e._id,children:"Edit"}),Object(a.jsx)("button",{className:"AdministrationPanel__delete",onClick:g,value:e._id,children:"Delete"})]})]},e._id)}))})]})]})})};n(42);l.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(m,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.b43483f7.chunk.js.map